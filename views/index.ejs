<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Health Tracker - Home</title>
    <link rel="stylesheet" href="/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="page-header">
            <h1>Smart Health Tracker</h1>
            <p>Your health journey, one post at a time.</p>
        </div>

        <!-- Feature Boxes -->
        <div class="features-grid">
            <div class="feature-box">
                <div class="feature-icon">
                    <i class="fas fa-plus-circle"></i>
                </div>
                <h3>Add Health Entry</h3>
                <p>Log your daily health metrics including weight, blood pressure, heart rate, and more.</p>
                <a href="/add" class="btn primary">Add Entry</a>
            </div>

            <div class="feature-box">
                <div class="feature-icon">
                    <i class="fas fa-chart-line"></i>
                </div>
                <h3>Monitor Progress</h3>
                <p>View detailed charts and analytics of your health trends over time.</p>
                <a href="/monitor" class="btn primary">View Charts</a>
            </div>

            <div class="feature-box">
                <div class="feature-icon">
                    <i class="fas fa-calendar-alt"></i>
                </div>
                <h3>Schedule Appointments</h3>
                <p>Book and manage your medical appointments with healthcare providers.</p>
                <a href="/appointments" class="btn primary">Manage Appointments</a>
            </div>

            <div class="feature-box">
                <div class="feature-icon">
                    <i class="fas fa-user"></i>
                </div>
                <h3>Profile & Settings</h3>
                <p>Update your personal information, emergency contacts, and app preferences.</p>
                <a href="/profile" class="btn primary">View Profile</a>
            </div>

            <div class="feature-box">
                <div class="feature-icon">
                    <i class="fas fa-bell"></i>
                </div>
                <h3>Health Notifications</h3>
                <p>Get reminders for medication, appointments, and health check-ups.</p>
                <button class="btn primary" onclick="alert('Notifications feature coming soon!')">Enable Notifications</button>
            </div>

            <div class="feature-box">
                <div class="feature-icon">
                    <i class="fas fa-mobile-alt"></i>
                </div>
                <h3>IoT Integration</h3>
                <p>Connect your smart devices for automatic health data collection.</p>
                <button class="btn primary" onclick="alert('IoT integration coming soon!')">Connect Device</button>
            </div>
        </div>

        <!-- Recent Health Updates -->
        <% if (healthData.length > 0) { %>
            <div class="recent-updates">
                <h2>Recent Health Updates</h2>
                <div class="feed">
                    <% healthData.slice(-3).forEach(entry => { %>
                        <div class="post-card">
                            <div class="post-header">
                                <div class="post-avatar">H</div>
                                <div>
                                    <strong>Health Update</strong>
                                    <div class="post-date"><%= entry.date %></div>
                                </div>
                            </div>
                            <div class="post-content">
                                <div class="metric">
                                    <span class="metric-label">Weight:</span>
                                    <span class="metric-value"><%= entry.weight %> kg</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">Blood Pressure:</span>
                                    <span class="metric-value"><%= entry.bloodPressure %></span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">Heart Rate:</span>
                                    <span class="metric-value"><%= entry.heartRate %> bpm</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">Steps:</span>
                                    <span class="metric-value"><%= entry.steps %></span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">Sleep:</span>
                                    <span class="metric-value"><%= entry.sleepHours %> hrs</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">SpO2:</span>
                                    <span class="metric-value"><%= entry.spO2 %>%</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">Temperature:</span>
                                    <span class="metric-value"><%= entry.temperature %>°C</span>
                                </div>
                            </div>
                            <div class="post-actions">
                                <a href="/edit/<%= entry.id %>" class="btn-small edit">Edit</a>
                                <form action="/delete/<%= entry.id %>" method="POST" style="display: inline;">
                                    <button type="submit" class="btn-small delete" onclick="return confirm('Are you sure you want to delete this entry?')">Delete</button>
                                </form>
                            </div>
                        </div>
                    <% }); %>
                </div>
                <div class="view-all">
                    <a href="#full-feed" class="btn secondary" onclick="document.querySelector('.full-feed').style.display='block'; this.style.display='none';">View All Entries</a>
                </div>
            </div>

            <div class="full-feed" style="display: none;">
                <h2>All Health Entries</h2>
                <div class="feed">
                    <% healthData.forEach(entry => { %>
                        <div class="post-card">
                            <div class="post-header">
                                <div class="post-avatar">H</div>
                                <div>
                                    <strong>Health Update</strong>
                                    <div class="post-date"><%= entry.date %></div>
                                </div>
                            </div>
                            <div class="post-content">
                                <div class="metric">
                                    <span class="metric-label">Weight:</span>
                                    <span class="metric-value"><%= entry.weight %> kg</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">Blood Pressure:</span>
                                    <span class="metric-value"><%= entry.bloodPressure %></span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">Heart Rate:</span>
                                    <span class="metric-value"><%= entry.heartRate %> bpm</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">Steps:</span>
                                    <span class="metric-value"><%= entry.steps %></span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">Sleep:</span>
                                    <span class="metric-value"><%= entry.sleepHours %> hrs</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">SpO2:</span>
                                    <span class="metric-value"><%= entry.spO2 %>%</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">Temperature:</span>
                                    <span class="metric-value"><%= entry.temperature %>°C</span>
                                </div>
                            </div>
                            <div class="post-actions">
                                <a href="/edit/<%= entry.id %>" class="btn-small edit">Edit</a>
                                <form action="/delete/<%= entry.id %>" method="POST" style="display: inline;">
                                    <button type="submit" class="btn-small delete" onclick="return confirm('Are you sure you want to delete this entry?')">Delete</button>
                                </form>
                            </div>
                        </div>
                    <% }); %>
                </div>
            </div>
        <% } %>
    </div>

    <!-- Bottom Navigation -->
    <nav class="navbar">
        <a href="/" class="nav-item active">
            <i class="fas fa-home nav-icon"></i>
            Home
        </a>
        <a href="/monitor" class="nav-item">
            <i class="fas fa-chart-line nav-icon"></i>
            Monitor
        </a>
        <a href="/appointments" class="nav-item">
            <i class="fas fa-calendar-alt nav-icon"></i>
            Appointments
        </a>
        <a href="/profile" class="nav-item">
            <i class="fas fa-user nav-icon"></i>
            Profile
        </a>
    </nav>
</body>
</html>
